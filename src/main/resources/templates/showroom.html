<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title th:text="${pageTitle}"></title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" >
    <link rel="stylesheet" href="/style/main-style.css">
</head>
<body>
<header>
  <div id="navbar"></div>
  <div th:replace="~{fragments/navigation-main :: navbar}"></div>
</header>

<div class="container mt-5">
    <h1 class="text-center mb-4" th:text="${pageTitle}"></h1>
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4">
        <th:block th:each="product : ${list}">
            <div class="col">
                <div class="card h-100 text-center">
                    <a th:href="@{/product/{id}(id=${product.id})}">
                        <img th:src="@{${product.mainPhotoPath}}" class="card-img-top img-fluid" alt="Product Image" style="object-fit: cover; height: 350px;">
                    </a>
                    <div class="card-body">
                        <h5 class="card-title text-truncate" th:text="${product.name}" style="max-width: 100%;"></h5>
                        <p class="text-secondary mb-1" th:text="${product.feature}"></p>
                        <h6 class="fw-bold" th:text="${product.group.price + ' €'}"></h6>
                    </div>
                </div>
            </div>
        </th:block>
    </div>

    <!-- Пагинация -->
    <nav class="mt-4">
        <ul class="pagination justify-content-center">
            <li class="page-item" th:classappend="${currentPage == 1} ? 'disabled'">
                <a class="page-link" th:href="@{/{link}(link=${link}, page=${currentPage - 1})}">Предыдущая</a>
            </li>
            <th:block th:each="pageNum : ${#numbers.sequence(1, totalPages)}">
                <li class="page-item" th:classappend="${currentPage == pageNum} ? 'active'">
                    <a class="page-link" th:href="@{/{link}(link=${link}, page=${pageNum})}" th:text="${pageNum}"></a>
                </li>
            </th:block>
            <li class="page-item" th:classappend="${currentPage == totalPages} ? 'disabled'">
                <a class="page-link" th:href="@{/{link}(link=${link}, page=${currentPage + 1})}">Следующая</a>
            </li>
        </ul>
    </nav>
</div>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</html>